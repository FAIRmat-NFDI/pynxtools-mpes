{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"index.html","title":"Documentation for pynxtools-mpes","text":"<p>pynxtools-mpes is a free, and open-source data software for harmonizing multidimensional photoemission spectroscopy (MPES) data and metadata for research data management using NeXus.</p> <p>pynxtools-mpes is a plugin for pynxtools for reading, translating, and standardizing MPES data from different sources such that it is compliant with the NeXus application definition <code>NXmpes</code>. In addition, it also supports the specialized application definition <code>NXmpes_arpes</code> for angle-resolved photoemission spectroscopy (ARPES) experiments.</p> <p>pynxtools-mpes is developed both as a standalone reader and as a tool within NOMAD, which is the open-source data management platform for materials science we are developing within FAIRmat.</p> Project and community <ul> <li>NOMAD code guidelines </li> </ul> <p>Any questions or suggestions? Get in touch!</p> <p>The work is funded by the Deutsche Forschungsgemeinschaft (DFG, German Research Foundation) - 460197019 (FAIRmat).</p>"},{"location":"index.html#tutorial","title":"Tutorial","text":"<p>A series of tutorials giving you an overview on how to store or convert your XPS data to NeXus compliant files.</p> <ul> <li>Installation guide</li> <li>Standalone usage and examples</li> </ul>"},{"location":"index.html#how-to-guides","title":"How-to guides","text":"<p>How-to guides provide step-by-step instructions for a wide range of tasks, with the overarching topics:</p> <ul> <li>How to build a new MPES reader</li> </ul>"},{"location":"index.html#learn","title":"Learn","text":"<ul> <li>coming soon!</li> </ul>"},{"location":"index.html#reference","title":"Reference","text":"<p>Here you can learn which specific readers are currently implemented in <code>pynxtools-mpes</code>.</p> <ul> <li>MPES reader for data from the FHI Berlin</li> </ul>"},{"location":"contact.html","title":"Get in contact","text":"<p>NOMAD, <code>pynxtools</code>, and <code>pynxtools-mpes</code> are open source project that warmly welcome community projects, contributions, suggestions, bug fixes, and constructive feedback. <code>pynxtools</code> is build mainly within FAIRmat Area B - Experiment.</p> <p>You can reach us through different channels. You can send an email directly to one of the main contributors:</p> Name E-mail Github profiles Dr. Lukas Pielsticker lukas.pielsticker@physik.hu-berlin.de @lukaspie Prof. Dr. Laurenz Rettig rettig@fhi-berlin.mpg.de / l.rettig@rptu.de @rettigl <p>Alternatively, you can also:</p> <ul> <li>Open an issue on GitHub</li> <li>Join the NOMAD discord channel and ask us there directly.</li> </ul>"},{"location":"how-tos/build-a-reader.html","title":"How to build a new MPES reader","text":"<p>Work in progress</p>"},{"location":"reference/mpes.html","title":"Data from MPES instruments","text":"<p>The reader supports HDF5 files created using the MPES instruments at the Department of Physical Chemistry of the Fritz Haber Institute of the Max Planck Society (FHI).</p> <p>The reader for can be found here.</p> <p>Example data for the MPES reader is available here.</p> <p>The example conversion can be run with the following command. <pre><code>user@box:~$ \ndataconverter xarray_saved_small_calibration.h5 eln_data.yaml -c config_file.json --reader mpes --nxdl NXmpes_arpes --output example_eln.nxs\n</code></pre></p> <p>The reader is a tailored parser for research data in a common format. This particular example is able to read and map HDF5 files, as well as JSON and YAML files. Feel free to contact FAIRmat if you want to create a parser for your research data.</p>"},{"location":"tutorial/contributing.html","title":"Development guide","text":"<p>This tutorial will guide you through on how to set up a working environment for developing <code>pynxtools-mpes</code>.</p>"},{"location":"tutorial/contributing.html#what-should-you-know-before-this-tutorial","title":"What should you know before this tutorial?","text":"<ul> <li>You should read the guide on getting started with <code>pynxtools</code>.</li> <li>You should read the installation tutorial.</li> </ul>"},{"location":"tutorial/contributing.html#what-you-will-know-at-the-end-of-this-tutorial","title":"What you will know at the end of this tutorial?","text":"<p>You will know</p> <ul> <li>how to setup your environment for developing <code>pynxtools-mpes</code></li> <li>how to make changes to the software</li> <li>how to test the software</li> <li>how to contribute on GitHub</li> <li>how to use <code>pynxtools-mpes</code> as a NOMAD plugin</li> </ul>"},{"location":"tutorial/contributing.html#contributing","title":"Contributing","text":"Structure of the <code>pynxtools-mpes</code> repository <p>The software tools are located inside <code>src/pynxtools_mpes</code>. They are shipped with unit tests located in <code>tests</code>.</p>"},{"location":"tutorial/contributing.html#setup","title":"Setup","text":"<p>It is recommended to use python 3.12 with a dedicated virtual environment for this package. Learn how to manage python versions and virtual environments. We recommend using <code>uv</code>, an extremely fast Python package and project manager. In this tutorial, you will find parallel descriptions, using either <code>uv</code> or a more classical approach using <code>venv</code> and <code>pip</code>.</p> <p>Start by creating a virtual environment:</p> uvvenv <p><code>uv</code> is capable of creating a virtual environment and install the required Python version at the same time.</p> <pre><code>uv venv --python 3.12\n</code></pre> <p>Note that you will need to install the Python version manually beforehand.</p> <pre><code>python -m venv .venv\n</code></pre> <p>That command creates a new virtual environment in a directory called .venv.</p>"},{"location":"tutorial/contributing.html#development-installation","title":"Development installation","text":"<p>We start by cloning the repository:</p> <pre><code>git clone https://github.com/FAIRmat-NFDI/pynxtools-mpes.git \\\\\n    --branch main \\\\\n    --recursive pynxtools-mpes\ncd pynxtools-mpes\n</code></pre> <p>Next, we install the package in editable mode (together with its dependencies):</p> uvpip <pre><code>uv pip install -e \".[dev]\"\n</code></pre> <p>Note that you will need to install the Python version manually beforehand.</p> <pre><code>pip install --upgrade pip\npip install -e \".[dev]\"\n</code></pre>"},{"location":"tutorial/contributing.html#linting-and-formatting","title":"Linting and formatting","text":"<p>We are using ruff and mypy for linting, formatting, and type checking. It is recommended to use the pre-commit hook available for ruff which formats the code and checks the linting before making a Git commit.</p> <p>Install the precommit by running</p> <pre><code>pre-commit install\n</code></pre> <p>from the root of this repository.</p>"},{"location":"tutorial/contributing.html#testing","title":"Testing","text":"<p>There exist unit tests for the software written in pytest which can be used as follows:</p> <pre><code>pytest -sv tests\n</code></pre>"},{"location":"tutorial/contributing.html#editing-the-documentation","title":"Editing the documentation","text":"<p>We are using `mkdocs for the documentation. If you edit the documentation, you can build it locally. For this, you need to install an additional set of dependencies:</p> uvpip <pre><code>uv pip install -e \".[docs]\"\n</code></pre> <pre><code>pip install -e \".[docs]\"\n</code></pre> <p>You can then serve the documentation locally by running</p> <pre><code>mkdocs serve\n</code></pre>"},{"location":"tutorial/contributing.html#contributing-to-the-package-on-github","title":"Contributing to the package on GitHub","text":"<p>Once you are happy with the changes, please commit them on a separate branch and create a pull request on GitHub. We run a number of GitHub actions that check the correct linting, run the tests in an isolated environment, and build the documentation. Once these pass and a peer review of the code has occurred, your code will be accepted.</p>"},{"location":"tutorial/contributing.html#developing-pynxtools-mpes-as-a-nomad-plugin","title":"Developing <code>pynxtools-mpes</code> as a NOMAD plugin","text":"<p>If you plan to contribute to the NOMAD plugin functionality of pynxtools-mpes, it often makes sense to use the NOMAD development environment called <code>nomad-distro-dev</code>. You can learn more in the NOMAD documentation.</p>"},{"location":"tutorial/contributing.html#troubleshooting","title":"Troubleshooting","text":"<p>If you face any issues with the tool or when setting up the development environment, please create a new Github Issue.</p>"},{"location":"tutorial/installation.html","title":"Installation guide","text":""},{"location":"tutorial/installation.html#what-should-you-know-before-this-tutorial","title":"What should you know before this tutorial?","text":"<p>To get started, it does not hurt to read the following <code>pynxtools</code> tutorial:</p> <ul> <li>Guide on getting started with <code>pynxtools</code>, NeXus, and NOMAD</li> <li>Installation tutorial for <code>pynxtools</code></li> </ul>"},{"location":"tutorial/installation.html#what-you-will-know-at-the-end-of-this-tutorial","title":"What you will know at the end of this tutorial?","text":"<p>You will know</p> <ul> <li>how to install <code>pynxtools-mpes</code></li> <li>how to install <code>pynxtools-mpes</code> together with NOMAD</li> </ul>"},{"location":"tutorial/installation.html#setup","title":"Setup","text":"<p>It is recommended to use python 3.12 with a dedicated virtual environment for this package. Learn how to manage python versions and virtual environments.</p> <p>There are many alternatives to managing virtual environments and package dependencies (requirements). We recommend using <code>uv</code>, an extremely fast Python package and project manager. In this tutorial, you will find parallel descriptions, using either <code>uv</code> or a more classical approach using <code>venv</code> and <code>pip</code>.</p> <p>Start by creating a virtual environment:</p> uvvenv <p><code>uv</code> is capable of creating a virtual environment and install the required Python version at the same time.</p> <pre><code>uv venv --python 3.12\n</code></pre> <p>Note that you will need to install the Python version manually beforehand.</p> <pre><code>python -m venv .venv\n</code></pre> <p>That command creates a new virtual environment in a directory called <code>.venv</code>.</p>"},{"location":"tutorial/installation.html#installation","title":"Installation","text":"<p>Install the latest stable version of this package from PyPI with</p> uvpip <pre><code>uv pip install pynxtools-mpes\n</code></pre> <pre><code>pip install pynxtools-mpes\n</code></pre> <p>You can also install the latest development version with</p> uvpip <pre><code>uv pip install git+https://github.com/FAIRmat-NFDI/pynxtools-mpes.git\n</code></pre> <pre><code>pip install git+https://github.com/FAIRmat-NFDI/pynxtools-mpes.git\n</code></pre>"},{"location":"tutorial/installation.html#how-to-install-pynxtools-mpes-with-nomad","title":"How to install <code>pynxtools-mpes</code> with NOMAD","text":"<p>To use <code>pynxtools-mpes</code> with NOMAD, simply install it in the same environment as the <code>nomad-lab</code> package. NOMAD will recognize <code>pynxtools-mpes</code> as a plugin automatically. In addition, NOMAD will install a schema for NeXus application definitions.</p>"},{"location":"tutorial/installation.html#start-using-pynxtools-mpes","title":"Start using <code>pynxtools-mpes</code>","text":"<p>That's it! You can now use <code>pynxtools-mpes</code>!</p>"},{"location":"tutorial/standalone.html","title":"Convert MPES data and metadata to NeXus","text":""},{"location":"tutorial/standalone.html#who-is-this-tutorial-for","title":"Who is this tutorial for?","text":"<p>This document is for people who want to use this reader as a standalone application for converting their research data into a standardized NeXus format.</p>"},{"location":"tutorial/standalone.html#what-should-you-should-know-before-this-tutorial","title":"What should you should know before this tutorial?","text":"<ul> <li>You should have a basic understanding of FAIRmat NeXus and pynxtools</li> <li>You should have a basic understanding of using Python and Jupyter notebooks via JupyterLab</li> </ul>"},{"location":"tutorial/standalone.html#what-you-will-know-at-the-end-of-this-tutorial","title":"What you will know at the end of this tutorial?","text":"<p>You will have a basic understanding how to use pynxtools-mpes for converting your MPES data to a NeXus/HDF5 file.</p>"},{"location":"tutorial/standalone.html#steps","title":"Steps","text":""},{"location":"tutorial/standalone.html#installation","title":"Installation","text":"<p>See here for how to install pynxtools together with the MPES reader plugin.</p>"},{"location":"tutorial/standalone.html#running-the-reader-from-the-command-line","title":"Running the reader from the command line","text":"<p>An example script to run the MPES reader in <code>pynxtools</code>: <pre><code> ! dataconverter \\\n--reader mpes \\\n--nxdl NXmpes_arpes \\\n$&lt;mpes-file path&gt; \\\n$&lt;eln-file path&gt; \\\n-c $&lt;config-file path&gt; \\\n--output &lt;output-file path&gt;.nxs\n</code></pre></p>"},{"location":"tutorial/standalone.html#examples","title":"Examples","text":"<p>You can find exhaustive examples how to use <code>pynxtools-mpes</code> for your ARPES research data pipeline in <code>src/pynxtools_mpes/nomad/example_uploads/example</code>. These are designed for working with <code>NOMAD</code> and its <code>NOMAD Remote Tools Hub (NORTH)</code>.</p> <p>There are also small example files for using the <code>pynxtools</code> dataconverter with the <code>mpes</code> reader and the <code>NXmpes</code> application definition in <code>tests/data</code>.</p> <p>For this tutorial, we will work with this data. You can run the conversion as</p> <pre><code>dataconverter \\\\\n    --reader mpes \\\\\n    --nxdl NXmpes_arpes \\\\\n    xarray_saved_small_calibration \\\\\n    eln_data.yaml \\\\\n    -c  config_file.json \\\\\n    --output mpes_example.nxs\n</code></pre> <p>Congrats! You now have a FAIR NeXus file!</p>"}]}